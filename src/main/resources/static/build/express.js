webpackJsonp([2],{0:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(9),a=n(o),i=r(38),l=r(344),s=n(l);(0,i.render)(a["default"].createElement(s["default"],null),document.getElementById("content"))},344:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=a,r=i,n=!0,l=c=void 0}},c=r(9),u=n(c),p=r(284),f=r(345);r(346);var d="express_codes",h=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state={val:"",showHistory:!1,loading:!1,expressCodes:(0,f.getItem)(d)&&JSON.parse((0,f.getItem)(d))||[]}}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.getParameterByName("id");t&&(this.setState({val:t},function(){return e.search()}),this.search(t))}},{key:"getParameterByName",value:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=r.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},{key:"onKeyPress",value:function(e){var t=e.keyCode||e.which;13===t&&this.search()}},{key:"pushStorage",value:function(e){var t=this.state.expressCodes,r=[].concat(o(t));if(r.length>0){for(var n=-1,a=0;a<r.length;a++)r[a]===e&&(n=a);n>=0&&r.splice(n,1)}r.unshift(e),r.length>4&&r.splice(4,1),this.setState({expressCodes:r}),(0,f.setItem)(d,r)}},{key:"search",value:function(){var e=this.state.val;if(e){this.pushStorage(e);var t="/express/shipper/"+e;this.setState({loading:!0});var r="http://you365.me/express.html";(0,p.fetch)(t).then(function(t){window.location.href="http://m.kuaidi100.com/index_all.html?type="+t.code+"&postid="+e+"&callbackurl="+r})["catch"](function(t){console.log("Error:",t),window.location.href="http://m.kuaidi100.com/index_all.html?postid="+e+"&callbackurl="+r})}}},{key:"onSelect",value:function(e){this.setState({val:e},this.search)}},{key:"clear",value:function(){this.setState({expressCodes:[]}),(0,f.removeItem)(d)}},{key:"renderHistory",value:function(e){var t=this,r=[];return e&&(r=JSON.parse(e).map(function(e){return u["default"].createElement("a",{className:"item",onClick:function(){return t.onSelect(e)}},e)})),u["default"].createElement("div",{className:"list"},r,u["default"].createElement("a",{className:"item",onClick:function(){return t.clear()}},"清除搜索记录"))}},{key:"render",value:function(){var e=this,t=this.state,r=t.val,n=t.loading,o=t.showHistory,a=u["default"].createElement("img",{src:"images/search.png",className:"search",onClick:function(){return e.search()}});return n&&(a=u["default"].createElement("img",{src:"images/spinner.gif",className:"search loading"})),u["default"].createElement("div",{className:"wrapper"},u["default"].createElement("div",{className:"content-wrapper"},u["default"].createElement("div",{className:"logo-wrapper"},u["default"].createElement("img",{src:"images/youji-logo.png",className:"logo"})),u["default"].createElement("div",{className:"input-wrapper"},u["default"].createElement("div",{className:"input-content"},u["default"].createElement("input",{type:"text",className:"input",value:r,onChange:function(t){return e.setState({val:t.target.value})},onFocus:function(){return e.setState({showHistory:!0})},onKeyPress:function(t){return e.onKeyPress(t)}})),a,!r&&o&&this.renderHistory((0,f.getItem)(d)))))}}]),t}(c.Component);t["default"]=h,e.exports=t["default"]},345:function(e,t){"use strict";function r(e,t){a&&a.setItem(e,JSON.stringify(t))}function n(e){if(a)return a.getItem(e)}function o(e){if(a)return a.removeItem(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=window.localStorage;t.setItem=r,t.getItem=n,t.removeItem=o},346:function(e,t,r){var n=r(347);"string"==typeof n&&(n=[[e.id,n,""]]);r(283)(n,{});n.locals&&(e.exports=n.locals)},347:function(e,t,r){t=e.exports=r(282)(),t.push([e.id,"#content{position:absolute;top:0;left:0;bottom:0;right:0;overflow-x:hidden;overflow-y:auto;display:flex;flex-direction:column;background:#00c08d}.wrapper{width:100%;height:100%;min-height:100%;max-width:960px;margin:0 auto;overflow:hidden}.wrapper .content-wrapper{padding:10px 15px;margin-top:20%}.wrapper .logo-wrapper{display:flex;flex:0 0 auto;align-items:center;justify-content:center}.wrapper .logo-wrapper .logo{width:76px;height:35px}.wrapper .input-wrapper{display:flex;flex:0 0 auto;width:100%;align-items:center;justify-content:center;background-color:#fff;border-radius:4px;height:44px;margin-top:20px;position:relative}.wrapper .input-content{display:flex;flex:1 0 auto;height:100%}.wrapper .input-content .input{padding-left:10px;width:100%;font-size:18px;outline:none;border:none;height:44px}.wrapper .search{height:44px;width:44px;margin-left:10px;z-index:1000;cursor:pointer}.wrapper .loading{cursor:default;height:24px;width:24px;margin-right:10px}.wrapper .list{position:absolute;background:#fff;top:44px;left:0;right:44px;display:flex;flex:0 0 auto;flex-direction:column;border:1px solid #dcdcdc;padding:5px 0 0 10px}.wrapper .list .item{padding:3px 0;cursor:pointer;text-decoration:none;color:#333}",""])}});